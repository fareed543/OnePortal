<div
  class="flex items-center gap-2 cursor-pointer hover:bg-gray-100 p-2 rounded"
  (click)="toggleExpand(node)"
>
  <span *ngIf="node.children?.length" class="w-5 text-gray-500">
    {{ node.expanded ? '📂' : '📁' }}
  </span>
  <span *ngIf="!node.children?.length" class="w-5 text-gray-400">📄</span>

  <span (click)="navigate(node)" class="flex-1">{{ node.title }}</span>

  <button class="text-blue-600 text-xs" (click)="editNode(node); $event.stopPropagation()">✏️</button>
  <button class="text-red-600 text-xs" (click)="deleteNode(node); $event.stopPropagation()">🗑</button>
</div>

<ul
  *ngIf="node.children?.length && node.expanded"
  class="ml-6 border-l border-gray-200 pl-3"
>
  <li *ngFor="let child of node.children">
    <app-menu-node [node]="child" (navigate)="navigate($event)"></app-menu-node>
  </li>
</ul>

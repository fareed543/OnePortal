<div class="p-4">
  <h2 class="text-xl font-semibold mb-4">🧱 Form Builder</h2>

  <!-- Form-level settings -->
  <div class="mb-4 flex flex-col gap-2">
    <label class="font-medium">Form Name:</label>
    <input
      class="border rounded p-2"
      type="text"
      [(ngModel)]="formConfig.formName"
      placeholder="Enter form name"
    />
  </div>

  <!-- Add new field -->
  <div class="border p-4 rounded mb-4 bg-gray-50">
    <h3 class="font-medium mb-2">Add Field</h3>
    <div class="grid grid-cols-2 gap-3">
      <input
        class="border p-2 rounded"
        type="text"
        [(ngModel)]="newField.label"
        placeholder="Label"
      />
      <input
        class="border p-2 rounded"
        type="text"
        [(ngModel)]="newField.name"
        placeholder="Field Name (unique)"
      />
      <select class="border p-2 rounded" [(ngModel)]="newField.type">
        <option value="">Select Field Type</option>
        <option *ngFor="let t of fieldTypes" [value]="t">{{ t }}</option>
      </select>
      <input
        *ngIf="newField.type === 'select'"
        class="border p-2 rounded"
        type="text"
        [(ngModel)]="newField.optionsString"
        placeholder="Comma separated options"
      />
      <label class="flex items-center gap-2 col-span-2">
        <input type="checkbox" [(ngModel)]="newField.required" />
        Required
      </label>
    </div>

    <button
      class="mt-3 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
      (click)="addField()"
    >
      ➕ Add Field
    </button>
  </div>

  <!-- Preview & Edit existing fields -->
  <div *ngIf="formConfig.fields.length > 0">
    <h3 class="font-medium mb-2">Form Preview</h3>
    <div *ngFor="let field of formConfig.fields; let i = index" class="border p-3 rounded mb-3 flex justify-between items-center">
      <div>
        <strong>{{ field.label }}</strong> ({{ field.type }})
        <span *ngIf="field.required" class="text-red-500">*</span>
      </div>
      <div class="flex gap-2">
        <button class="text-blue-600" (click)="editField(i)">✏️ Edit</button>
        <button class="text-red-600" (click)="removeField(i)">🗑 Delete</button>
      </div>
    </div>
  </div>

  <!-- Save -->
  <button
    class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700"
    (click)="saveForm()"
  >
    💾 Save Form
  </button>

  <!-- JSON Preview -->
  <pre class="bg-gray-100 mt-4 p-3 rounded text-sm overflow-auto">
{{ formConfig | json }}
  </pre>
</div>
